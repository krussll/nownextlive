<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Now &amp; Next Controller</title>
    <link rel="stylesheet" href="/assets/NDST3/controller/styles.css">
</head>
<body>
    <main>
        <div class="layout">
            <aside class="sidebar">
                <div class="sidebar-card">
                    <h2>Displays</h2>
                    <a class="display-link" href="/r/NDST3/index.html" target="_blank" rel="noopener noreferrer">
                        <span>Open NDST3 Display</span>
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14 5H19V10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 14L19 5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M19 14V19H5V5H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                </div>

                <div class="sidebar-card">
                    <h2>Connected Users</h2>
                    <ul class="connections-list" id="connections-list" aria-live="polite">
                        <li class="connections-empty">No connected users yet</li>
                    </ul>
                </div>
            </aside>

            <div class="content">
                <header>
                    <div class="header-row">
                        <div class="header-text">
                            <span>Controller Dashboard</span>
                            <h1 class="event-title-heading">
                                <button class="event-title-button" type="button" data-modal-target="event-title-modal" aria-controls="event-title-modal">
                                    <span data-event-title>North District Sports</span>
                                    <span class="event-title-pencil" aria-hidden="true">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </span>
                                </button>
                            </h1>
                        </div>
                        <button id="btn">SAVE</button>
                    </div>
                    <p>Enter the live activity details for each space. When you submit, every connected display will refresh instantly.</p>
                </header>

                <div class="event-modal" id="event-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="event-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow">Event</p>
                                <h3 id="event-title-modal-title">Event title</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="event-title">Event title
                                <input type="text" id="event-title" name="event-title" placeholder="Enter event title">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>

                <div class="status-bar" role="status">
                    <div class="status-pill" id="status-text">Awaiting Connection</div>
                    <div class="status-meta">Room: <strong>NDST3</strong></div>
                </div>

                <section class="spaces-grid">
            <details class="space-card" open>
                <summary>
                    <div class="space-summary">
                        <button class="space-title-button" type="button" data-modal-target="space1-title-modal" aria-controls="space1-title-modal" data-stop-propagation>
                            <span data-space-heading="space1">Space 1</span>
                            <span class="space-title-pencil" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="event-modal" id="space1-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space1-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow" data-space-label="space1">Space 1</p>
                                <h3 id="space1-title-modal-title">Space name</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="space1-title">Space Name
                                <input type="text" id="space1-title" name="space1-title" placeholder="Space 1">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="space-fields">
                    <div class="event-row-stack">
            <div class="event-row" data-space="space1" data-event="now" data-event-order="1">
                <div class="event-row__info">
                    <span class="event-row__index">1</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space1-now-modal" aria-controls="space1-now-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space1-now-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space1-now-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space1">Space 1</p>
                            <h3 id="space1-now-modal-title">Now</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space1-now">Session Title
                            <input type="text" id="space1-now" name="space1-now-title" placeholder="Enter session title">
                        </label>
                        <label for="space1-now-time">Time
                            <input type="text" id="space1-now-time" name="space1-now-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space1-now-description">Details
                            <input type="text" id="space1-now-description" name="space1-now-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space1" data-event="next" data-event-order="2">
                <div class="event-row__info">
                    <span class="event-row__index">2</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space1-next-modal" aria-controls="space1-next-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space1-next-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space1-next-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space1">Space 1</p>
                            <h3 id="space1-next-modal-title">Next</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space1-next">Session Title
                            <input type="text" id="space1-next" name="space1-next-title" placeholder="Enter session title">
                        </label>
                        <label for="space1-next-time">Time
                            <input type="text" id="space1-next-time" name="space1-next-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space1-next-description">Details
                            <input type="text" id="space1-next-description" name="space1-next-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space1" data-event="upcoming1" data-event-order="3">
                <div class="event-row__info">
                    <span class="event-row__index">3</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space1-upcoming1-modal" aria-controls="space1-upcoming1-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space1-upcoming1-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space1-upcoming1-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space1">Space 1</p>
                            <h3 id="space1-upcoming1-modal-title">Event 1</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space1-upcoming1">Session Title
                            <input type="text" id="space1-upcoming1" name="space1-upcoming1-title" placeholder="Enter session title">
                        </label>
                        <label for="space1-upcoming1-time">Time
                            <input type="text" id="space1-upcoming1-time" name="space1-upcoming1-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space1-upcoming1-description">Details
                            <input type="text" id="space1-upcoming1-description" name="space1-upcoming1-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space1" data-event="upcoming2" data-event-order="4">
                <div class="event-row__info">
                    <span class="event-row__index">4</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space1-upcoming2-modal" aria-controls="space1-upcoming2-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space1-upcoming2-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space1-upcoming2-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space1">Space 1</p>
                            <h3 id="space1-upcoming2-modal-title">Event 2</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space1-upcoming2">Session Title
                            <input type="text" id="space1-upcoming2" name="space1-upcoming2-title" placeholder="Enter session title">
                        </label>
                        <label for="space1-upcoming2-time">Time
                            <input type="text" id="space1-upcoming2-time" name="space1-upcoming2-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space1-upcoming2-description">Details
                            <input type="text" id="space1-upcoming2-description" name="space1-upcoming2-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

                    </div>
                </div>
            </details>
            <details class="space-card">
                <summary>
                    <div class="space-summary">
                        <button class="space-title-button" type="button" data-modal-target="space2-title-modal" aria-controls="space2-title-modal" data-stop-propagation>
                            <span data-space-heading="space2">Space 2</span>
                            <span class="space-title-pencil" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="event-modal" id="space2-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space2-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow" data-space-label="space2">Space 2</p>
                                <h3 id="space2-title-modal-title">Space name</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="space2-title">Space Name
                                <input type="text" id="space2-title" name="space2-title" placeholder="Space 2">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="space-fields">
                    <div class="event-row-stack">
            <div class="event-row" data-space="space2" data-event="now" data-event-order="1">
                <div class="event-row__info">
                    <span class="event-row__index">1</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space2-now-modal" aria-controls="space2-now-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space2-now-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space2-now-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space2">Space 2</p>
                            <h3 id="space2-now-modal-title">Now</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space2-now">Session Title
                            <input type="text" id="space2-now" name="space2-now-title" placeholder="Enter session title">
                        </label>
                        <label for="space2-now-time">Time
                            <input type="text" id="space2-now-time" name="space2-now-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space2-now-description">Details
                            <input type="text" id="space2-now-description" name="space2-now-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space2" data-event="next" data-event-order="2">
                <div class="event-row__info">
                    <span class="event-row__index">2</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space2-next-modal" aria-controls="space2-next-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space2-next-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space2-next-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space2">Space 2</p>
                            <h3 id="space2-next-modal-title">Next</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space2-next">Session Title
                            <input type="text" id="space2-next" name="space2-next-title" placeholder="Enter session title">
                        </label>
                        <label for="space2-next-time">Time
                            <input type="text" id="space2-next-time" name="space2-next-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space2-next-description">Details
                            <input type="text" id="space2-next-description" name="space2-next-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space2" data-event="upcoming1" data-event-order="3">
                <div class="event-row__info">
                    <span class="event-row__index">3</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space2-upcoming1-modal" aria-controls="space2-upcoming1-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space2-upcoming1-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space2-upcoming1-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space2">Space 2</p>
                            <h3 id="space2-upcoming1-modal-title">Event 1</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space2-upcoming1">Session Title
                            <input type="text" id="space2-upcoming1" name="space2-upcoming1-title" placeholder="Enter session title">
                        </label>
                        <label for="space2-upcoming1-time">Time
                            <input type="text" id="space2-upcoming1-time" name="space2-upcoming1-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space2-upcoming1-description">Details
                            <input type="text" id="space2-upcoming1-description" name="space2-upcoming1-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space2" data-event="upcoming2" data-event-order="4">
                <div class="event-row__info">
                    <span class="event-row__index">4</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space2-upcoming2-modal" aria-controls="space2-upcoming2-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space2-upcoming2-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space2-upcoming2-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space2">Space 2</p>
                            <h3 id="space2-upcoming2-modal-title">Event 2</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space2-upcoming2">Session Title
                            <input type="text" id="space2-upcoming2" name="space2-upcoming2-title" placeholder="Enter session title">
                        </label>
                        <label for="space2-upcoming2-time">Time
                            <input type="text" id="space2-upcoming2-time" name="space2-upcoming2-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space2-upcoming2-description">Details
                            <input type="text" id="space2-upcoming2-description" name="space2-upcoming2-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

                    </div>
                </div>
            </details>
            <details class="space-card">
                <summary>
                    <div class="space-summary">
                        <button class="space-title-button" type="button" data-modal-target="space3-title-modal" aria-controls="space3-title-modal" data-stop-propagation>
                            <span data-space-heading="space3">Space 3</span>
                            <span class="space-title-pencil" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="event-modal" id="space3-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space3-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow" data-space-label="space3">Space 3</p>
                                <h3 id="space3-title-modal-title">Space name</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="space3-title">Space Name
                                <input type="text" id="space3-title" name="space3-title" placeholder="Space 3">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="space-fields">
                    <div class="event-row-stack">
            <div class="event-row" data-space="space3" data-event="now" data-event-order="1">
                <div class="event-row__info">
                    <span class="event-row__index">1</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space3-now-modal" aria-controls="space3-now-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space3-now-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space3-now-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space3">Space 3</p>
                            <h3 id="space3-now-modal-title">Now</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space3-now">Session Title
                            <input type="text" id="space3-now" name="space3-now-title" placeholder="Enter session title">
                        </label>
                        <label for="space3-now-time">Time
                            <input type="text" id="space3-now-time" name="space3-now-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space3-now-description">Details
                            <input type="text" id="space3-now-description" name="space3-now-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space3" data-event="next" data-event-order="2">
                <div class="event-row__info">
                    <span class="event-row__index">2</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space3-next-modal" aria-controls="space3-next-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space3-next-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space3-next-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space3">Space 3</p>
                            <h3 id="space3-next-modal-title">Next</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space3-next">Session Title
                            <input type="text" id="space3-next" name="space3-next-title" placeholder="Enter session title">
                        </label>
                        <label for="space3-next-time">Time
                            <input type="text" id="space3-next-time" name="space3-next-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space3-next-description">Details
                            <input type="text" id="space3-next-description" name="space3-next-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space3" data-event="upcoming1" data-event-order="3">
                <div class="event-row__info">
                    <span class="event-row__index">3</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space3-upcoming1-modal" aria-controls="space3-upcoming1-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space3-upcoming1-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space3-upcoming1-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space3">Space 3</p>
                            <h3 id="space3-upcoming1-modal-title">Event 1</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space3-upcoming1">Session Title
                            <input type="text" id="space3-upcoming1" name="space3-upcoming1-title" placeholder="Enter session title">
                        </label>
                        <label for="space3-upcoming1-time">Time
                            <input type="text" id="space3-upcoming1-time" name="space3-upcoming1-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space3-upcoming1-description">Details
                            <input type="text" id="space3-upcoming1-description" name="space3-upcoming1-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space3" data-event="upcoming2" data-event-order="4">
                <div class="event-row__info">
                    <span class="event-row__index">4</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space3-upcoming2-modal" aria-controls="space3-upcoming2-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space3-upcoming2-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space3-upcoming2-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space3">Space 3</p>
                            <h3 id="space3-upcoming2-modal-title">Event 2</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space3-upcoming2">Session Title
                            <input type="text" id="space3-upcoming2" name="space3-upcoming2-title" placeholder="Enter session title">
                        </label>
                        <label for="space3-upcoming2-time">Time
                            <input type="text" id="space3-upcoming2-time" name="space3-upcoming2-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space3-upcoming2-description">Details
                            <input type="text" id="space3-upcoming2-description" name="space3-upcoming2-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

                    </div>
                </div>
            </details>
            <details class="space-card">
                <summary>
                    <div class="space-summary">
                        <button class="space-title-button" type="button" data-modal-target="space4-title-modal" aria-controls="space4-title-modal" data-stop-propagation>
                            <span data-space-heading="space4">Space 4</span>
                            <span class="space-title-pencil" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="event-modal" id="space4-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space4-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow" data-space-label="space4">Space 4</p>
                                <h3 id="space4-title-modal-title">Space name</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="space4-title">Space Name
                                <input type="text" id="space4-title" name="space4-title" placeholder="Space 4">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="space-fields">
                    <div class="event-row-stack">
            <div class="event-row" data-space="space4" data-event="now" data-event-order="1">
                <div class="event-row__info">
                    <span class="event-row__index">1</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space4-now-modal" aria-controls="space4-now-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space4-now-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space4-now-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space4">Space 4</p>
                            <h3 id="space4-now-modal-title">Now</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space4-now">Session Title
                            <input type="text" id="space4-now" name="space4-now-title" placeholder="Enter session title">
                        </label>
                        <label for="space4-now-time">Time
                            <input type="text" id="space4-now-time" name="space4-now-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space4-now-description">Details
                            <input type="text" id="space4-now-description" name="space4-now-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space4" data-event="next" data-event-order="2">
                <div class="event-row__info">
                    <span class="event-row__index">2</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space4-next-modal" aria-controls="space4-next-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space4-next-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space4-next-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space4">Space 4</p>
                            <h3 id="space4-next-modal-title">Next</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space4-next">Session Title
                            <input type="text" id="space4-next" name="space4-next-title" placeholder="Enter session title">
                        </label>
                        <label for="space4-next-time">Time
                            <input type="text" id="space4-next-time" name="space4-next-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space4-next-description">Details
                            <input type="text" id="space4-next-description" name="space4-next-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space4" data-event="upcoming1" data-event-order="3">
                <div class="event-row__info">
                    <span class="event-row__index">3</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space4-upcoming1-modal" aria-controls="space4-upcoming1-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space4-upcoming1-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space4-upcoming1-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space4">Space 4</p>
                            <h3 id="space4-upcoming1-modal-title">Event 1</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space4-upcoming1">Session Title
                            <input type="text" id="space4-upcoming1" name="space4-upcoming1-title" placeholder="Enter session title">
                        </label>
                        <label for="space4-upcoming1-time">Time
                            <input type="text" id="space4-upcoming1-time" name="space4-upcoming1-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space4-upcoming1-description">Details
                            <input type="text" id="space4-upcoming1-description" name="space4-upcoming1-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space4" data-event="upcoming2" data-event-order="4">
                <div class="event-row__info">
                    <span class="event-row__index">4</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space4-upcoming2-modal" aria-controls="space4-upcoming2-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space4-upcoming2-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space4-upcoming2-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space4">Space 4</p>
                            <h3 id="space4-upcoming2-modal-title">Event 2</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space4-upcoming2">Session Title
                            <input type="text" id="space4-upcoming2" name="space4-upcoming2-title" placeholder="Enter session title">
                        </label>
                        <label for="space4-upcoming2-time">Time
                            <input type="text" id="space4-upcoming2-time" name="space4-upcoming2-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space4-upcoming2-description">Details
                            <input type="text" id="space4-upcoming2-description" name="space4-upcoming2-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

                    </div>
                </div>
            </details>
            <details class="space-card">
                <summary>
                    <div class="space-summary">
                        <button class="space-title-button" type="button" data-modal-target="space5-title-modal" aria-controls="space5-title-modal" data-stop-propagation>
                            <span data-space-heading="space5">Space 5</span>
                            <span class="space-title-pencil" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="event-modal" id="space5-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space5-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow" data-space-label="space5">Space 5</p>
                                <h3 id="space5-title-modal-title">Space name</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="space5-title">Space Name
                                <input type="text" id="space5-title" name="space5-title" placeholder="Space 5">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="space-fields">
                    <div class="event-row-stack">
            <div class="event-row" data-space="space5" data-event="now" data-event-order="1">
                <div class="event-row__info">
                    <span class="event-row__index">1</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space5-now-modal" aria-controls="space5-now-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space5-now-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space5-now-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space5">Space 5</p>
                            <h3 id="space5-now-modal-title">Now</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space5-now">Session Title
                            <input type="text" id="space5-now" name="space5-now-title" placeholder="Enter session title">
                        </label>
                        <label for="space5-now-time">Time
                            <input type="text" id="space5-now-time" name="space5-now-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space5-now-description">Details
                            <input type="text" id="space5-now-description" name="space5-now-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space5" data-event="next" data-event-order="2">
                <div class="event-row__info">
                    <span class="event-row__index">2</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space5-next-modal" aria-controls="space5-next-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space5-next-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space5-next-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space5">Space 5</p>
                            <h3 id="space5-next-modal-title">Next</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space5-next">Session Title
                            <input type="text" id="space5-next" name="space5-next-title" placeholder="Enter session title">
                        </label>
                        <label for="space5-next-time">Time
                            <input type="text" id="space5-next-time" name="space5-next-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space5-next-description">Details
                            <input type="text" id="space5-next-description" name="space5-next-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space5" data-event="upcoming1" data-event-order="3">
                <div class="event-row__info">
                    <span class="event-row__index">3</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space5-upcoming1-modal" aria-controls="space5-upcoming1-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space5-upcoming1-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space5-upcoming1-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space5">Space 5</p>
                            <h3 id="space5-upcoming1-modal-title">Event 1</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space5-upcoming1">Session Title
                            <input type="text" id="space5-upcoming1" name="space5-upcoming1-title" placeholder="Enter session title">
                        </label>
                        <label for="space5-upcoming1-time">Time
                            <input type="text" id="space5-upcoming1-time" name="space5-upcoming1-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space5-upcoming1-description">Details
                            <input type="text" id="space5-upcoming1-description" name="space5-upcoming1-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space5" data-event="upcoming2" data-event-order="4">
                <div class="event-row__info">
                    <span class="event-row__index">4</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space5-upcoming2-modal" aria-controls="space5-upcoming2-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space5-upcoming2-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space5-upcoming2-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space5">Space 5</p>
                            <h3 id="space5-upcoming2-modal-title">Event 2</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space5-upcoming2">Session Title
                            <input type="text" id="space5-upcoming2" name="space5-upcoming2-title" placeholder="Enter session title">
                        </label>
                        <label for="space5-upcoming2-time">Time
                            <input type="text" id="space5-upcoming2-time" name="space5-upcoming2-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space5-upcoming2-description">Details
                            <input type="text" id="space5-upcoming2-description" name="space5-upcoming2-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

                    </div>
                </div>
            </details>
            <details class="space-card">
                <summary>
                    <div class="space-summary">
                        <button class="space-title-button" type="button" data-modal-target="space6-title-modal" aria-controls="space6-title-modal" data-stop-propagation>
                            <span data-space-heading="space6">Space 6</span>
                            <span class="space-title-pencil" aria-hidden="true">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 20H8.5L18.25 10.25C18.9404 9.55964 18.9404 8.44036 18.25 7.75C17.5596 7.05964 16.4404 7.05964 15.75 7.75L6 17.5L4 20Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.5 8.5L15.5 10.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="event-modal" id="space6-title-modal" hidden>
                    <div class="event-modal__backdrop" data-close-modal></div>
                    <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space6-title-modal-title">
                        <div class="event-modal__header">
                            <div>
                                <p class="event-modal__eyebrow" data-space-label="space6">Space 6</p>
                                <h3 id="space6-title-modal-title">Space name</h3>
                            </div>
                            <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                                <span aria-hidden="true">✕</span>
                            </button>
                        </div>
                        <div class="event-fields">
                            <label for="space6-title">Space Name
                                <input type="text" id="space6-title" name="space6-title" placeholder="Space 6">
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                            <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                        </div>
                    </div>
                </div>
                <div class="space-fields">
                    <div class="event-row-stack">
            <div class="event-row" data-space="space6" data-event="now" data-event-order="1">
                <div class="event-row__info">
                    <span class="event-row__index">1</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space6-now-modal" aria-controls="space6-now-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space6-now-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space6-now-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space6">Space 6</p>
                            <h3 id="space6-now-modal-title">Now</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space6-now">Session Title
                            <input type="text" id="space6-now" name="space6-now-title" placeholder="Enter session title">
                        </label>
                        <label for="space6-now-time">Time
                            <input type="text" id="space6-now-time" name="space6-now-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space6-now-description">Details
                            <input type="text" id="space6-now-description" name="space6-now-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space6" data-event="next" data-event-order="2">
                <div class="event-row__info">
                    <span class="event-row__index">2</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space6-next-modal" aria-controls="space6-next-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space6-next-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space6-next-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space6">Space 6</p>
                            <h3 id="space6-next-modal-title">Next</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space6-next">Session Title
                            <input type="text" id="space6-next" name="space6-next-title" placeholder="Enter session title">
                        </label>
                        <label for="space6-next-time">Time
                            <input type="text" id="space6-next-time" name="space6-next-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space6-next-description">Details
                            <input type="text" id="space6-next-description" name="space6-next-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space6" data-event="upcoming1" data-event-order="3">
                <div class="event-row__info">
                    <span class="event-row__index">3</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space6-upcoming1-modal" aria-controls="space6-upcoming1-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space6-upcoming1-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space6-upcoming1-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space6">Space 6</p>
                            <h3 id="space6-upcoming1-modal-title">Event 1</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space6-upcoming1">Session Title
                            <input type="text" id="space6-upcoming1" name="space6-upcoming1-title" placeholder="Enter session title">
                        </label>
                        <label for="space6-upcoming1-time">Time
                            <input type="text" id="space6-upcoming1-time" name="space6-upcoming1-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space6-upcoming1-description">Details
                            <input type="text" id="space6-upcoming1-description" name="space6-upcoming1-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

            <div class="event-row" data-space="space6" data-event="upcoming2" data-event-order="4">
                <div class="event-row__info">
                    <span class="event-row__index">4</span>
                    <div class="event-row__text">
                        <span class="event-row__title" data-event-title-display></span>
                    </div>
                </div>
                <div class="event-row__actions">
                    <button class="icon-button" type="button" aria-label="Add timer">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L14.5 14.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 4H10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 4H17" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 20C15.866 20 19 16.866 19 13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13C5 16.866 8.13401 20 12 20Z" stroke="currentColor" stroke-width="1.6"/>
                        </svg>
                    </button>
                    <button class="icon-button" type="button" aria-haspopup="dialog" aria-expanded="false" data-modal-target="space6-upcoming2-modal" aria-controls="space6-upcoming2-modal">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button icon-button--primary" type="button" aria-label="Send to display">
                        <svg aria-hidden="true" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 6L17 12L8 18V6Z" fill="currentColor" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="event-modal" id="space6-upcoming2-modal" hidden>
                <div class="event-modal__backdrop" data-close-modal></div>
                <div class="event-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="space6-upcoming2-modal-title">
                    <div class="event-modal__header">
                        <div>
                            <p class="event-modal__eyebrow" data-space-label="space6">Space 6</p>
                            <h3 id="space6-upcoming2-modal-title">Event 2</h3>
                        </div>
                        <button class="icon-button" type="button" aria-label="Close modal" data-close-modal>
                            <span aria-hidden="true">✕</span>
                        </button>
                    </div>
                    <div class="event-fields">
                        <label for="space6-upcoming2">Session Title
                            <input type="text" id="space6-upcoming2" name="space6-upcoming2-title" placeholder="Enter session title">
                        </label>
                        <label for="space6-upcoming2-time">Time
                            <input type="text" id="space6-upcoming2-time" name="space6-upcoming2-time" class="time-input" placeholder="e.g. 09:00">
                        </label>
                        <label for="space6-upcoming2-description">Details
                            <input type="text" id="space6-upcoming2-description" name="space6-upcoming2-description" placeholder="Add optional notes or team names">
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button class="button-secondary" type="button" data-cancel-modal>Cancel</button>
                        <button class="button-primary" type="button" data-confirm-modal>Confirm</button>
                    </div>
                </div>
            </div>

                    </div>
                </div>
            </details>
                </section>

            </div>
        </div>
    </main>
</body>
<script type="module">
    const status = document.getElementById("status-text");
    const submitButton = document.getElementById("btn");
    const connectionsList = document.getElementById("connections-list");
    const eventTitleInput = document.getElementById("event-title");
    const eventTitleDisplay = document.querySelector("[data-event-title]");
    const defaultEventTitle = eventTitleDisplay?.textContent?.trim() || "Event title";

    const spaceIds = Array.from({ length: 6 }, (_, index) => `space${index + 1}`);
    const eventKeys = [
        { key: "now", label: "Now", order: 1 },
        { key: "next", label: "Next", order: 2 },
        { key: "upcoming1", label: "Event 1", order: 3 },
        { key: "upcoming2", label: "Event 2", order: 4 },
    ];

    const fields = spaceIds.reduce((spaceAcc, spaceId) => {
        const events = eventKeys.reduce((eventAcc, { key }) => {
            eventAcc[key] = {
                title: document.getElementById(`${spaceId}-${key}`),
                subtitle: document.getElementById(`${spaceId}-${key}-description`),
                time: document.getElementById(`${spaceId}-${key}-time`),
            };
            return eventAcc;
        }, {});

        spaceAcc[spaceId] = events;
        return spaceAcc;
    }, {});

    const eventState = spaceIds.reduce((spaceAcc, spaceId) => {
        spaceAcc[spaceId] = eventKeys.reduce((eventAcc, { key }) => {
            eventAcc[key] = { title: "", subtitle: "", time: "" };
            return eventAcc;
        }, {});

        return spaceAcc;
    }, {});

    const spaceTitleInputs = spaceIds.reduce((acc, spaceId) => {
        acc[spaceId] = document.getElementById(`${spaceId}-title`);
        return acc;
    }, {});

    const spaceTitleDisplays = spaceIds.reduce((acc, spaceId) => {
        acc[spaceId] = document.querySelector(`[data-space-heading="${spaceId}"]`);
        return acc;
    }, {});

    const modalSpaceLabels = spaceIds.reduce((acc, spaceId) => {
        acc[spaceId] = Array.from(document.querySelectorAll(`[data-space-label="${spaceId}"]`));
        return acc;
    }, {});

    const eventPreviews = spaceIds.reduce((spaceAcc, spaceId) => {
        spaceAcc[spaceId] = eventKeys.reduce((eventAcc, { key }) => {
            const row = document.querySelector(`[data-space="${spaceId}"][data-event="${key}"]`);
            if (!row) return eventAcc;

            eventAcc[key] = {
                title: row.querySelector("[data-event-title-display]"),
                subtitle: row.querySelector("[data-event-subtitle-display]"),
                time: row.querySelector("[data-event-time-display]"),
            };

            return eventAcc;
        }, {});

        return spaceAcc;
    }, {});

    let eventTitleState = defaultEventTitle;

    const setEventTitle = (value) => {
        const normalized = (value ?? "").toString().trim();
        const resolved = normalized || defaultEventTitle;
        eventTitleState = resolved;

        if (eventTitleInput) {
            eventTitleInput.value = resolved;
        }

        if (eventTitleDisplay) {
            eventTitleDisplay.textContent = resolved;
        }

        return resolved;
    };

    const getEventTitle = () => setEventTitle(eventTitleState);

    const resetEventTitleField = () => {
        if (eventTitleInput) {
            eventTitleInput.value = eventTitleState ?? defaultEventTitle;
        }
    };

    const defaultSpaceTitle = (index) => (index >= 0 ? `Space ${index + 1}` : "Space");
    const getSpaceIndex = (spaceKey) => spaceIds.indexOf(spaceKey);

    const spaceTitleState = spaceIds.reduce((acc, spaceId, index) => {
        acc[spaceId] = defaultSpaceTitle(index);
        return acc;
    }, {});

    const updateSpaceTitleDisplay = (spaceKey) => {
        const index = getSpaceIndex(spaceKey);
        const title = spaceTitleState[spaceKey] ?? defaultSpaceTitle(index);
        const display = spaceTitleDisplays[spaceKey];

        if (display) {
            display.textContent = title;
        }

        modalSpaceLabels[spaceKey]?.forEach((label) => {
            label.textContent = title;
        });

        return title;
    };

    const getSpaceTitle = (spaceKey) => updateSpaceTitleDisplay(spaceKey);

    const resetSpaceTitleField = (spaceKey) => {
        const input = spaceTitleInputs[spaceKey];
        if (input) {
            input.value = getSpaceTitle(spaceKey);
        }
    };

    const setSpaceTitle = (spaceKey, value) => {
        const index = getSpaceIndex(spaceKey);
        const normalizedValue = (value ?? "").toString().trim();
        const title = normalizedValue || defaultSpaceTitle(index);
        spaceTitleState[spaceKey] = title;

        const input = spaceTitleInputs[spaceKey];
        if (input) {
            input.value = title;
        }

        return updateSpaceTitleDisplay(spaceKey);
    };

    setEventTitle(defaultEventTitle);

    spaceIds.forEach((spaceKey, index) => {
        const input = spaceTitleInputs[spaceKey];
        const initialValue = input?.value ?? defaultSpaceTitle(index);
        setSpaceTitle(spaceKey, initialValue);
    });

    import { io } from "https://cdn.socket.io/4.8.1/socket.io.esm.min.js";

    const socket = io("https://hidden-journey-22873-ad31037ba953.herokuapp.com");

    const fallbackValue = (value, fallback) => {
        const normalized = (value ?? "").toString().trim();
        return normalized || fallback;
    };

    const renderEventPreview = (spaceKey, key) => {
        const preview = eventPreviews[spaceKey]?.[key];
        const state = eventState[spaceKey]?.[key];
        if (!preview || !state) return;

        if (preview.title) {
            preview.title.textContent = fallbackValue(state.title, "");
        }
        if (preview.subtitle) {
            preview.subtitle.textContent = fallbackValue(state.subtitle, "");
        }
        if (preview.time) {
            preview.time.textContent = fallbackValue(state.time, "");
        }
    };

    const renderAllEventPreviews = () => {
        spaceIds.forEach((spaceKey) => {
            eventKeys.forEach(({ key }) => {
                renderEventPreview(spaceKey, key);
            });
        });
    };

    const applyEventStateToFields = (spaceKey, key) => {
        const refs = fields[spaceKey]?.[key];
        const state = eventState[spaceKey]?.[key];
        if (!refs || !state) return;

        setFieldValue(refs.title, state.title);
        setFieldValue(refs.subtitle, state.subtitle);
        setFieldValue(refs.time, state.time);
    };

    const setTriggerExpanded = (modalId, expanded) => {
        document.querySelectorAll(`[data-modal-target="${modalId}"]`).forEach((trigger) => {
            trigger.setAttribute("aria-expanded", expanded ? "true" : "false");
        });
    };

    const parseModalId = (modalId = "") => {
        const trimmed = modalId.replace(/-modal$/, "");
        if (!trimmed) return {};

        if (trimmed === "event-title") {
            return { scope: "event", eventKey: "title" };
        }

        const [spaceKey, ...eventParts] = trimmed.split("-");
        if (!spaceKey || !eventParts.length) return {};

        return { scope: "space", spaceKey, eventKey: eventParts.join("-") };
    };

    const resetModalFields = (modal) => {
        if (!modal) return;
        const { scope, spaceKey, eventKey } = parseModalId(modal.id);
        if (!eventKey) return;

        if (eventKey === "title") {
            if (scope === "event") {
                resetEventTitleField();
                return;
            }

            if (scope === "space") {
                resetSpaceTitleField(spaceKey);
                return;
            }
        }

        if (scope === "space") {
            applyEventStateToFields(spaceKey, eventKey);
        }
    };

    const saveEventFromFields = (spaceKey, key) => {
        const refs = fields[spaceKey]?.[key];
        const state = eventState[spaceKey]?.[key];
        if (!refs || !state) return;

        state.title = refs.title?.value ?? "";
        state.subtitle = refs.subtitle?.value ?? "";
        state.time = refs.time?.value ?? "";

        renderEventPreview(spaceKey, key);
    };

    const syncStateFromFields = () => {
        spaceIds.forEach((spaceKey) => {
            eventKeys.forEach(({ key }) => {
                saveEventFromFields(spaceKey, key);
            });
        });
    };

    const openModal = (modalId) => {
        const modal = document.getElementById(modalId);
        if (!modal) return;

        const { scope, spaceKey, eventKey } = parseModalId(modalId);
        if (eventKey) {
            if (eventKey === "title") {
                if (scope === "event") {
                    resetEventTitleField();
                } else if (scope === "space") {
                    resetSpaceTitleField(spaceKey);
                }
            } else if (scope === "space") {
                applyEventStateToFields(spaceKey, eventKey);
            }
        }

        modal.hidden = false;
        setTriggerExpanded(modalId, true);

        const firstField = modal.querySelector("input, textarea");
        if (firstField) {
            firstField.focus();
        }
    };

    const closeModal = (modal) => {
        if (!modal) return;

        resetModalFields(modal);
        modal.hidden = true;
        setTriggerExpanded(modal.id, false);
    };

    document.querySelectorAll("[data-modal-target]").forEach((trigger) => {
        const targetId = trigger.getAttribute("data-modal-target");
        trigger.addEventListener("click", (event) => {
            if (trigger.hasAttribute("data-stop-propagation")) {
                event.stopPropagation();
                event.preventDefault();
            }
            openModal(targetId);
        });
    });

    document.querySelectorAll("[data-close-modal]").forEach((closer) => {
        closer.addEventListener("click", () => closeModal(closer.closest(".event-modal")));
    });

    document.querySelectorAll("[data-confirm-modal]").forEach((confirmButton) => {
        const modal = confirmButton.closest(".event-modal");
        confirmButton.addEventListener("click", () => {
            const { scope, spaceKey, eventKey } = parseModalId(modal?.id ?? "");
            if (eventKey === "title") {
                if (scope === "event") {
                    setEventTitle(eventTitleInput?.value);
                } else if (scope === "space" && spaceKey) {
                    setSpaceTitle(spaceKey, spaceTitleInputs[spaceKey]?.value);
                }
            } else if (scope === "space" && spaceKey) {
                saveEventFromFields(spaceKey, eventKey);
            }

            closeModal(modal);
        });
    });

    document.querySelectorAll("[data-cancel-modal]").forEach((cancelButton) => {
        cancelButton.addEventListener("click", () => closeModal(cancelButton.closest(".event-modal")));
    });

    document.querySelectorAll(".event-modal").forEach((modal) => {
        modal.addEventListener("click", (event) => {
            if (event.target.classList.contains("event-modal__backdrop")) {
                closeModal(modal);
            }
        });
    });

    document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
            document.querySelectorAll(".event-modal:not([hidden])").forEach((modal) => closeModal(modal));
        }
    });

    const setFieldValue = (field, value) => {
        if (field) {
            field.value = value ?? "";
        }
    };

    const populateSpace = (spaceKey, data = {}) => {
        eventKeys.forEach(({ key }) => {
            const incoming = data[key] ?? {};
            const state = eventState[spaceKey]?.[key];
            if (!state) return;

            state.title = incoming.title ?? "";
            state.subtitle = incoming.subtitle ?? "";
            state.time = incoming.time ?? "";

            applyEventStateToFields(spaceKey, key);
            renderEventPreview(spaceKey, key);
        });
    };

    const buildEventPayload = (spaceKey) => {
        const events = {};
        eventKeys.forEach(({ key }) => {
            const state = eventState[spaceKey]?.[key];
            if (!state) return;
            events[key] = {
                title: state.title ?? "",
                subtitle: state.subtitle ?? "",
                time: state.time ?? "",
            };
        });
        return events;
    };

    syncStateFromFields();

    socket.on("connect", () => {
        console.log("connected");
        socket.emit("room-request", { room: "NDST3", role: "CONTROLLER" });
    });

    const normalizeConnections = (payload = {}) => {
        if (!payload) return [];

        const directConnections = payload.connections ?? payload.users ?? payload.members ?? payload.participants;
        if (Array.isArray(directConnections)) return directConnections;

        const fromRoles = [];
        const roleMappings = [
            { key: "controllers", role: "controller" },
            { key: "controller", role: "controller" },
            { key: "displays", role: "display" },
            { key: "display", role: "display" },
        ];

        roleMappings.forEach(({ key, role }) => {
            const entries = payload[key];
            if (Array.isArray(entries)) {
                entries.forEach((id) => {
                    fromRoles.push({ id, role });
                });
            }
        });

        return fromRoles;
    };

    const renderConnections = (connections = []) => {
        if (!connectionsList) return;
        connectionsList.innerHTML = "";

        if (!connections.length) {
            const empty = document.createElement("li");
            empty.className = "connections-empty";
            empty.textContent = "No connected users yet";
            connectionsList.appendChild(empty);
            return;
        }

        connections.forEach(({ id, role }) => {
            const item = document.createElement("li");
            item.className = "connection-item";

            const idLabel = document.createElement("span");
            idLabel.className = "connection-id";
            idLabel.textContent = id ?? "Unknown ID";

            const roleLabel = document.createElement("span");
            const normalizedRole = role ? role.toString().toLowerCase() : "unknown";
            roleLabel.className = `connection-role ${role ? `connection-role--${normalizedRole}` : ""}`;
            roleLabel.textContent = normalizedRole;

            item.appendChild(idLabel);
            item.appendChild(roleLabel);
            connectionsList.appendChild(item);
        });
    };

    socket.on("room-status", (payload) => {
        console.log(payload);
        renderConnections(normalizeConnections(payload));
    });

    socket.on("init-load", (config) => {
        status.textContent = "Connected";
        const incomingTitle = config?.title ?? config?.data?.title;
        if (incomingTitle !== undefined) {
            setEventTitle(incomingTitle);
        }

        spaceIds.forEach((spaceKey, index) => {
            const incoming = config[`space${index + 1}`];
            setSpaceTitle(spaceKey, incoming?.title);
            populateSpace(spaceKey, incoming);
        });
    });

    submitButton.addEventListener("click", () => {
        const payload = { data: {} };

        payload.title = getEventTitle();

        spaceIds.forEach((spaceKey, index) => {
            payload.data[`space${index + 1}`] = {
                title: getSpaceTitle(spaceKey),
                ...buildEventPayload(spaceKey),
            };
        });

        socket.emit("save", payload);
    });
</script>
</html>
